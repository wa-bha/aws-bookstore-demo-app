{"ast":null,"code":"import _regeneratorRuntime from\"/home/bw/Desktop/aws-bookstore-demo-app/assets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/bw/Desktop/aws-bookstore-demo-app/assets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/bw/Desktop/aws-bookstore-demo-app/assets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/bw/Desktop/aws-bookstore-demo-app/assets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/bw/Desktop/aws-bookstore-demo-app/assets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/bw/Desktop/aws-bookstore-demo-app/assets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{API}from\"aws-amplify\";import AddToCart from\"../../common/AddToCart\";import FriendRecommendations from\"../../common/friendRecommendations/FriendRecommendations\";import StarRating from\"../../common/starRating/StarRating\";import\"../../common/styles/productRow.css\";export var ProductRow=/*#__PURE__*/function(_React$Component){_inherits(ProductRow,_React$Component);var _super=_createSuper(ProductRow);function ProductRow(props){var _this;_classCallCheck(this,ProductRow);_this=_super.call(this,props);_this.state={book:undefined};return _this;}_createClass(ProductRow,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var book;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return this.getBook();case 3:book=_context.sent;this.setState({book:book});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);alert(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,this,[[0,7]]);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"getBook\",value:function getBook(){return API.get(\"books\",\"/books/\".concat(this.props.bookId),null);}},{key:\"render\",value:function render(){if(!this.state.book)return null;return/*#__PURE__*/React.createElement(\"div\",{className:\"white-box\"},/*#__PURE__*/React.createElement(\"div\",{className:\"media\"},/*#__PURE__*/React.createElement(\"div\",{className:\"media-left media-middle no-padding\"},/*#__PURE__*/React.createElement(\"img\",{className:\"media-object product-thumb\",src:this.state.book.cover,alt:\"\".concat(this.state.book.name,\" cover\")})),/*#__PURE__*/React.createElement(\"div\",{className:\"media-body product-padding padding-20\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"media-heading\"},this.state.book.name,/*#__PURE__*/React.createElement(\"small\",{className:\"pull-right margin-1\"},/*#__PURE__*/React.createElement(\"h4\",null,\"$\",this.state.book.price))),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"small\",null,this.state.book.category)),/*#__PURE__*/React.createElement(FriendRecommendations,{bookId:this.props.bookId}),/*#__PURE__*/React.createElement(\"div\",null,\"Rating\",/*#__PURE__*/React.createElement(AddToCart,{bookId:this.props.bookId,price:this.state.book.price})),/*#__PURE__*/React.createElement(StarRating,{stars:this.state.book.rating}))));}}]);return ProductRow;}(React.Component);export default ProductRow;","map":{"version":3,"sources":["/home/bw/Desktop/aws-bookstore-demo-app/assets/src/modules/bestSellers/BestSellerProductRow.tsx"],"names":["React","API","AddToCart","FriendRecommendations","StarRating","ProductRow","props","state","book","undefined","getBook","setState","alert","get","bookId","cover","name","price","category","rating","Component"],"mappings":"28BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,GAAT,KAAoB,aAApB,CAEA,MAAOC,CAAAA,SAAP,KAAsB,wBAAtB,CACA,MAAOC,CAAAA,qBAAP,KAAkC,0DAAlC,CACA,MAAOC,CAAAA,UAAP,KAAuB,oCAAvB,CACA,MAAO,oCAAP,CAoBA,UAAaC,CAAAA,UAAb,oHACE,oBAAYC,KAAZ,CAAoC,4CAClC,uBAAMA,KAAN,EAEA,MAAKC,KAAL,CAAa,CACXC,IAAI,CAAEC,SADK,CAAb,CAHkC,aAMnC,CAPH,kJASE,kLAEuB,MAAKC,OAAL,EAFvB,QAEUF,IAFV,eAGI,KAAKG,QAAL,CAAc,CAAEH,IAAI,CAAJA,IAAF,CAAd,EAHJ,+EAKII,KAAK,aAAL,CALJ,oEATF,oIAkBE,kBAAU,CACR,MAAOX,CAAAA,GAAG,CAACY,GAAJ,CAAQ,OAAR,kBAA2B,KAAKP,KAAL,CAAWQ,MAAtC,EAAgD,IAAhD,CAAP,CACD,CApBH,sBAsBE,iBAAS,CACP,GAAI,CAAC,KAAKP,KAAL,CAAWC,IAAhB,CAAsB,MAAO,KAAP,CAEtB,mBACE,2BAAK,SAAS,CAAC,WAAf,eACE,2BAAK,SAAS,CAAC,OAAf,eACE,2BAAK,SAAS,CAAC,oCAAf,eACE,2BAAK,SAAS,CAAC,4BAAf,CAA4C,GAAG,CAAE,KAAKD,KAAL,CAAWC,IAAX,CAAgBO,KAAjE,CAAwE,GAAG,WAAK,KAAKR,KAAL,CAAWC,IAAX,CAAgBQ,IAArB,UAA3E,EADF,CADF,cAIE,2BAAK,SAAS,CAAC,uCAAf,eACE,0BAAI,SAAS,CAAC,eAAd,EAA+B,KAAKT,KAAL,CAAWC,IAAX,CAAgBQ,IAA/C,cACE,6BAAO,SAAS,CAAC,qBAAjB,eAAuC,kCAAM,KAAKT,KAAL,CAAWC,IAAX,CAAgBS,KAAtB,CAAvC,CADF,CADF,cAIE,0CAAG,iCAAQ,KAAKV,KAAL,CAAWC,IAAX,CAAgBU,QAAxB,CAAH,CAJF,cAKE,oBAAC,qBAAD,EAAuB,MAAM,CAAE,KAAKZ,KAAL,CAAWQ,MAA1C,EALF,cAME,qDAEE,oBAAC,SAAD,EAAW,MAAM,CAAE,KAAKR,KAAL,CAAWQ,MAA9B,CAAsC,KAAK,CAAE,KAAKP,KAAL,CAAWC,IAAX,CAAgBS,KAA7D,EAFF,CANF,cAUE,oBAAC,UAAD,EAAY,KAAK,CAAE,KAAKV,KAAL,CAAWC,IAAX,CAAgBW,MAAnC,EAVF,CAJF,CADF,CADF,CAqBD,CA9CH,wBAAgCnB,KAAK,CAACoB,SAAtC,EAiDA,cAAef,CAAAA,UAAf","sourcesContent":["import React from \"react\";\nimport { API } from \"aws-amplify\";\n\nimport AddToCart from \"../../common/AddToCart\";\nimport FriendRecommendations from \"../../common/friendRecommendations/FriendRecommendations\";\nimport StarRating from \"../../common/starRating/StarRating\";\nimport \"../../common/styles/productRow.css\";\n\ninterface ProductRowProps {\n  bookId: string;\n}\n\nexport interface Book {\n  id: string;\n  cover: string;\n  price: number;\n  category: string;\n  name: string;\n  rating: number;\n  author: string;\n}\n\ninterface ProductRowState {\n  book: Book | undefined;\n}\n\nexport class ProductRow extends React.Component<ProductRowProps, ProductRowState> {\n  constructor(props: ProductRowProps) {\n    super(props);\n\n    this.state = {\n      book: undefined,\n    };\n  }\n\n  async componentDidMount() {\n    try {\n      const book = await this.getBook();\n      this.setState({ book });\n    } catch (e) {\n      alert(e);\n    }\n  }\n\n  getBook() {\n    return API.get(\"books\", `/books/${this.props.bookId}`, null);\n  }\n\n  render() {\n    if (!this.state.book) return null;\n\n    return (\n      <div className=\"white-box\">\n        <div className=\"media\">\n          <div className=\"media-left media-middle no-padding\">\n            <img className=\"media-object product-thumb\" src={this.state.book.cover} alt={`${this.state.book.name} cover`} />\n          </div>\n          <div className=\"media-body product-padding padding-20\">\n            <h3 className=\"media-heading\">{this.state.book.name}\n              <small className=\"pull-right margin-1\"><h4>${this.state.book.price}</h4></small>\n            </h3>\n            <p><small>{this.state.book.category}</small></p>\n            <FriendRecommendations bookId={this.props.bookId} />\n            <div>\n              Rating\n              <AddToCart bookId={this.props.bookId} price={this.state.book.price} />\n            </div>\n            <StarRating stars={this.state.book.rating} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ProductRow;\n\n\n"]},"metadata":{},"sourceType":"module"}