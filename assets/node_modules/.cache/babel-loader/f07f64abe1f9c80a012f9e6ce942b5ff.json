{"ast":null,"code":"import _regeneratorRuntime from\"/home/bw/Desktop/aws-bookstore-demo-app/assets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/bw/Desktop/aws-bookstore-demo-app/assets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/bw/Desktop/aws-bookstore-demo-app/assets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/bw/Desktop/aws-bookstore-demo-app/assets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/bw/Desktop/aws-bookstore-demo-app/assets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/bw/Desktop/aws-bookstore-demo-app/assets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import\"../../common/styles/gallery.css\";import{API}from\"aws-amplify\";import CategoryGalleryBook from\"./CategoryGalleryBook\";export var CategoryGallery=/*#__PURE__*/function(_React$Component){_inherits(CategoryGallery,_React$Component);var _super=_createSuper(CategoryGallery);function CategoryGallery(props){var _this;_classCallCheck(this,CategoryGallery);_this=_super.call(this,props);_this.state={isLoading:true,books:[]};return _this;}_createClass(CategoryGallery,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var books;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return this.listBooks();case 3:books=_context.sent;this.setState({books:books});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);alert(_context.t0);case 10:this.setState({isLoading:false});case 11:case\"end\":return _context.stop();}}},_callee,this,[[0,7]]);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"listBooks\",value:function listBooks(){return API.get(\"books\",\"/books?category=\".concat(this.props.match.params.id),null);}},{key:\"render\",value:function render(){return this.state.isLoading?/*#__PURE__*/React.createElement(\"div\",{className:\"loader\"}):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"well-bs no-radius\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container-category\"},/*#__PURE__*/React.createElement(\"h3\",null,this.props.match.params.id),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},this.state.books.map(function(book){return/*#__PURE__*/React.createElement(CategoryGalleryBook,{book:book,key:book.id});})))));}}]);return CategoryGallery;}(React.Component);export default CategoryGallery;","map":{"version":3,"sources":["/home/bw/Desktop/aws-bookstore-demo-app/assets/src/modules/category/CategoryGallery.tsx"],"names":["React","API","CategoryGalleryBook","CategoryGallery","props","state","isLoading","books","listBooks","setState","alert","get","match","params","id","map","book","Component"],"mappings":"28BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,iCAAP,CACA,OAASC,GAAT,KAAoB,aAApB,CACA,MAAOC,CAAAA,mBAAP,KAAgC,uBAAhC,CAYA,UAAaC,CAAAA,eAAb,8HACE,yBAAYC,KAAZ,CAAyC,iDACvC,uBAAMA,KAAN,EAEA,MAAKC,KAAL,CAAa,CACXC,SAAS,CAAE,IADA,CAEXC,KAAK,CAAE,EAFI,CAAb,CAHuC,aAOxC,CARH,uJAUE,mLAEwB,MAAKC,SAAL,EAFxB,QAEUD,KAFV,eAGI,KAAKE,QAAL,CAAc,CAAEF,KAAK,CAALA,KAAF,CAAd,EAHJ,+EAKIG,KAAK,aAAL,CALJ,QAQE,KAAKD,QAAL,CAAc,CAAEH,SAAS,CAAE,KAAb,CAAd,EARF,oEAVF,sIAqBE,oBAAY,CACV,MAAOL,CAAAA,GAAG,CAACU,GAAJ,CAAQ,OAAR,2BAAoC,KAAKP,KAAL,CAAWQ,KAAX,CAAiBC,MAAjB,CAAwBC,EAA5D,EAAkE,IAAlE,CAAP,CACD,CAvBH,sBAyBE,iBAAS,CACP,MACE,MAAKT,KAAL,CAAWC,SAAX,cAAuB,2BAAK,SAAS,CAAC,QAAf,EAAvB,cACA,4CACE,2BAAK,SAAS,CAAC,mBAAf,eACE,2BAAK,SAAS,CAAC,oBAAf,eACE,8BAAK,KAAKF,KAAL,CAAWQ,KAAX,CAAiBC,MAAjB,CAAwBC,EAA7B,CADF,cAEE,2BAAK,SAAS,CAAC,KAAf,EACG,KAAKT,KAAL,CAAWE,KAAX,CAAiBQ,GAAjB,CAAqB,SAAAC,IAAI,qBAAI,oBAAC,mBAAD,EAAqB,IAAI,CAAEA,IAA3B,CAAiC,GAAG,CAAEA,IAAI,CAACF,EAA3C,EAAJ,EAAzB,CADH,CAFF,CADF,CADF,CAFF,CAaD,CAvCH,6BAAqCd,KAAK,CAACiB,SAA3C,EA0CA,cAAed,CAAAA,eAAf","sourcesContent":["import React from \"react\";\nimport \"../../common/styles/gallery.css\";\nimport { API } from \"aws-amplify\";\nimport CategoryGalleryBook from \"./CategoryGalleryBook\";\nimport { Book } from \"../bestSellers/BestSellerProductRow\";\n\ninterface CategoryGalleryProps {\n  match: any;\n}\n\ninterface CategoryGalleryState {\n  isLoading: boolean;\n  books: Book[];\n}\n\nexport class CategoryGallery extends React.Component<CategoryGalleryProps, CategoryGalleryState> {\n  constructor(props: CategoryGalleryProps) {\n    super(props);\n\n    this.state = {\n      isLoading: true,\n      books: []\n    };\n  }\n\n  async componentDidMount() {\n    try {\n      const books = await this.listBooks();\n      this.setState({ books });\n    } catch (e) {\n      alert(e);\n    }\n\n    this.setState({ isLoading: false });\n  }\n\n  listBooks() {\n    return API.get(\"books\", `/books?category=${this.props.match.params.id}`, null);\n  }\n\n  render() {\n    return (\n      this.state.isLoading ? <div className=\"loader\" /> :\n      <div>\n        <div className=\"well-bs no-radius\">\n          <div className=\"container-category\">\n            <h3>{this.props.match.params.id}</h3>\n            <div className=\"row\">\n              {this.state.books.map(book => <CategoryGalleryBook book={book} key={book.id} />)}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default CategoryGallery;"]},"metadata":{},"sourceType":"module"}