{"ast":null,"code":"import _regeneratorRuntime from\"/home/bw/Desktop/aws-bookstore-demo-app/assets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/bw/Desktop/aws-bookstore-demo-app/assets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/bw/Desktop/aws-bookstore-demo-app/assets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/bw/Desktop/aws-bookstore-demo-app/assets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/bw/Desktop/aws-bookstore-demo-app/assets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/bw/Desktop/aws-bookstore-demo-app/assets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{Auth}from\"aws-amplify\";import React,{Component,Fragment}from\"react\";import{LinkContainer}from\"react-router-bootstrap\";import{Link,withRouter}from\"react-router-dom\";import{Nav,Navbar,NavItem}from\"react-bootstrap\";import\"./App.css\";import{Routes}from\"./Routes\";var bookstoreIcon=\"data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjMycHgiIGhlaWdodD0iMzJweCIgdmlld0JveD0iMCAwIDMzNS4wOCAzMzUuMDc5IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAzMzUuMDggMzM1LjA3OTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxnPgoJCTxwYXRoIGQ9Ik0zMTEuMTc1LDExNS43NzVjLTEuMzU1LTEwLjE4Ni0xLjU0Ni0yNy43Myw3LjkxNS0zMy42MjFjMC4xNjktMC4xMDgsMC4yOTUtMC4yNjQsMC40NDMtMC4zOTggICAgYzcuNzM1LTIuNDc0LDEzLjA4OC01Ljk0Niw4Ljg4Ni0xMC42MThsLTExNC4xMDItMzQuMzhMMjkuNTYsNjIuNDQ1YzAsMC0yMS4xNTcsMy4wMjQtMTkuMjY3LDM1Ljg5NCAgICBjMS4wMjYsMTcuODksNi42MzcsMjYuNjc2LDExLjU0NCwzMWwtMTUuMTYxLDQuNTY5Yy00LjIwOCw0LjY3MiwxLjE0NCw4LjE0NSw4Ljg4LDEwLjYxNWMwLjE0NywwLjEzOCwwLjI3MSwwLjI5MywwLjQ0MywwLjQwMSAgICBjOS40NTUsNS44OTYsOS4yNzMsMjMuNDM4LDcuOTEzLDMzLjYyNmMtMzMuOTY3LDkuNjQ1LTIxLjc3NCwxMi43ODgtMjEuNzc0LDEyLjc4OGw3LjQ1MSwxLjgwMyAgICBjLTUuMjQxLDQuNzM2LTEwLjQ0NiwxMy43MTctOS40NzEsMzAuNzVjMS44OTEsMzIuODY0LDE5LjI2OSwzNS4xMzIsMTkuMjY5LDM1LjEzMmwxMjAuOTA0LDM5LjI5OGwxODIuNDktNDQuMjAyICAgIGMwLDAsMTIuMTk3LTMuMTQ4LTIxLjc3OS0xMi43OTRjLTEuMzY2LTEwLjE3Mi0xLjU1Ni0yNy43MTIsNy45MjEtMzMuNjIzYzAuMTc0LTAuMTA1LDAuMzAxLTAuMjY0LDAuNDQyLTAuMzk2ICAgIGM3LjczNi0yLjQ3NCwxMy4wODQtNS45NDMsOC44ODEtMTAuNjE1bC03LjkzMi0yLjM5NWM1LjI5LTMuMTksMTMuMjM2LTExLjUyNywxNC40ODEtMzMuMTgzICAgIGMwLjg1OS0xNC44OTYtMy4wMjctMjMuNjItNy41MjUtMjguNzU2bDE1LjY3OC0zLjc5NEMzMzIuOTQ5LDEyOC41NjksMzQ1LjE0NiwxMjUuNDIxLDMxMS4xNzUsMTE1Ljc3NXogTTE1OC41MzMsMTE1LjM1NCAgICBsMzAuNjg4LTYuMzA3bDEwMy43MDgtMjEuMzEybDE1LjQ1MS0zLjE3OGMtNC45MzcsOS4wMzYtNC43MywyMS40MDItMy45MTMsMjkuMzVjMC4xNzksMS43OTgsMC4zODUsMy40NCwwLjU4NSw0LjY4OCAgICBMMjg4LjE0LDEyMi44bC0xMzAuODk3LDMyLjU2M0wxNTguNTMzLDExNS4zNTR6IE0yNi43MSwxNDcuMzM3bDE1LjQ0OSwzLjE3OGw5OS41OTcsMjAuNDc0bDguNzAxLDEuNzgybDAsMGwwLDBsMjYuMDkzLDUuMzYzICAgIGwxLjI4Nyw0MC4wMUw0My4zMDMsMTg0LjY3M2wtMTMuMjYzLTMuMjk2YzAuMTk1LTEuMjUsMC40MDEtMi44OSwwLjU4OC00LjY5M0MzMS40NCwxNjguNzQyLDMxLjY1MSwxNTYuMzczLDI2LjcxLDE0Ny4zMzd6ICAgICBNMjAuNzA4LDk2Ljc1N2MtMC4xODctOC43NDMsMS4zNzEtMTUuMDY2LDQuNTItMTguMjhjMi4wMDQtMi4wNTIsNC4zNjktMi40NzksNS45OTEtMi40NzljMC44NTcsMCwxLjQ3NCwwLjExOSwxLjUxNiwwLjExOSAgICBsNzkuNjA3LDI1Ljk1M2wzOS43MTcsMTIuOTQ5bC0xLjMwMyw0MC4yODlMMzkuMzM0LDEyNC4wN2wtNS44OC0xLjY0N2MtMC4yMTYtMC4wNjEtMC41MDktMC4xMDMtMC43MzUtMC4xMTMgICAgQzMyLjI2LDEyMi4yNzcsMjEuMjQ0LDEyMS4yNjMsMjAuNzA4LDk2Ljc1N3ogTTE0MC41NzksMjgwLjg2NkwyMy4yOCwyNDcuOThjLTAuMjE3LTAuMDYzLTAuNTA3LTAuMTA1LTAuNzMzLTAuMTE2ICAgIGMtMC40NjctMC4wMzEtMTEuNDg4LTEuMDQ0LTEyLjAyMS0yNS41NDRjLTAuMTktOC43NTQsMS4zNzYtMTUuMDcxLDQuNTE5LTE4LjI4OGMyLjAwOS0yLjA1Miw0LjM3NS0yLjQ3OSw1Ljk5NC0yLjQ3OSAgICBjMC44NTksMCwxLjQ3NCwwLjExNSwxLjUxOSwwLjExNWMwLDAsMC4wMDUsMCwwLDBsMTE5LjMxNiwzOC45MDhMMTQwLjU3OSwyODAuODY2eiBNMjk0LjI4NCwyMzkuNDU5ICAgIGMwLjE4NSwxLjgwNCwwLjM5MSwzLjQ0MywwLjU5MSw0LjY5M2wtMTQ3LjgxMiwzNi43NzFsMS4yOTItNDAuMDFsMzEuNjAxLTYuNDk3bDQuNjY3LDEuMTI5bDE3LjQ5Mi01LjY4NWw4MC42MzEtMTYuNTY5ICAgIGwxNS40NTctMy4xOEMyOTMuMjYxLDIxOS4xNDYsMjkzLjQ2NiwyMzEuNTE3LDI5NC4yODQsMjM5LjQ1OXogTTMwMi40MjYsMTg1LjA4NGMtMC4yNjksMC4wMDYtMC41MzgsMC4wNDItMC43OTEsMC4xMjIgICAgbC0xMS4xNDgsMy4xMjFsLTEwNi4xNDgsMjkuNzY0bC0xLjI5OC00MC4yODlsMzQuODI2LTExLjM1OWw4NC4zMjctMjcuNTAxYzAuMDExLTAuMDA1LDQuNDM2LTAuOTg4LDcuNjg0LDIuMzE1ICAgIGMzLjE0NCwzLjIxNCw0LjcwNCw5LjUzNyw0LjUyLDE4LjI4QzMxMy44NDgsMTg0LjAzNSwzMDIuODI3LDE4NS4wNTMsMzAyLjQyNiwxODUuMDg0eiIgZmlsbD0iI2Y2OTgyNyIvPgoJPC9nPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo=\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.userHasAuthenticated=function(authenticated){_this.setState({isAuthenticated:authenticated});};_this.handleLogout=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Auth.signOut();case 2:_this.userHasAuthenticated(false);_this.props.history.push(\"/login\");case 4:case\"end\":return _context.stop();}}},_callee);}));_this.showLoggedInBar=function(){return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(LinkContainer,{to:\"/past\"},/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(\"span\",{className:\"orange line-height-24\"},\"Past orders\"))),/*#__PURE__*/React.createElement(LinkContainer,{to:\"/best\"},/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(\"span\",{className:\"orange line-height-24\"},\"Best sellers\"))),/*#__PURE__*/React.createElement(NavItem,{onClick:_this.handleLogout},/*#__PURE__*/React.createElement(\"span\",{className:\"orange line-height-24\"},\"Log out\")),/*#__PURE__*/React.createElement(LinkContainer,{to:\"/cart\"},/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(\"div\",{className:\"shopping-icon-container\"},/*#__PURE__*/React.createElement(\"span\",{className:\"glyphicon glyphicon-shopping-cart white\",\"aria-hidden\":\"true\"})))));};_this.showLoggedOutBar=function(){return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(LinkContainer,{to:\"/signup\"},/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(\"span\",{className:\"orange\"},\"Sign up\"))),/*#__PURE__*/React.createElement(LinkContainer,{to:\"/login\"},/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(\"span\",{className:\"orange\"},\"Log in\"))));};_this.state={isAuthenticated:false,isAuthenticating:true};document.title=\"Bookstore Demo\";return _this;}_createClass(App,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return Auth.currentSession();case 3:if(!_context2.sent){_context2.next=5;break;}this.userHasAuthenticated(true);case 5:_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);if(_context2.t0!=='No current user'){alert(_context2.t0);}case 10:this.setState({isAuthenticating:false});case 11:case\"end\":return _context2.stop();}}},_callee2,this,[[0,7]]);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var childProps={isAuthenticated:this.state.isAuthenticated,userHasAuthenticated:this.userHasAuthenticated};return!this.state.isAuthenticating&&/*#__PURE__*/React.createElement(\"div\",{className:\"App container\"},/*#__PURE__*/React.createElement(Navbar,{fluid:true,collapseOnSelect:true},/*#__PURE__*/React.createElement(Navbar.Header,null,/*#__PURE__*/React.createElement(Navbar.Brand,null,/*#__PURE__*/React.createElement(Link,{to:\"/\"},/*#__PURE__*/React.createElement(\"span\",{className:\"orange\"},\" \",/*#__PURE__*/React.createElement(\"img\",{src:bookstoreIcon,alt:\"bookstore\"}),\" BOOKSTORE\"))),/*#__PURE__*/React.createElement(Navbar.Toggle,null)),/*#__PURE__*/React.createElement(Navbar.Collapse,null,/*#__PURE__*/React.createElement(Nav,{pullRight:true},this.state.isAuthenticated?this.showLoggedInBar():this.showLoggedOutBar()))),/*#__PURE__*/React.createElement(Routes,{isAuthenticated:childProps.isAuthenticated,userHasAuthenticated:childProps.userHasAuthenticated}));}}]);return App;}(Component);export default withRouter(App);","map":{"version":3,"sources":["/home/bw/Desktop/aws-bookstore-demo-app/assets/src/App.tsx"],"names":["Auth","React","Component","Fragment","LinkContainer","Link","withRouter","Nav","Navbar","NavItem","Routes","bookstoreIcon","App","props","userHasAuthenticated","authenticated","setState","isAuthenticated","handleLogout","signOut","history","push","showLoggedInBar","showLoggedOutBar","state","isAuthenticating","document","title","currentSession","alert","childProps"],"mappings":"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","sourcesContent":["import { Auth } from \"aws-amplify\";\nimport React, { Component, Fragment } from \"react\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { Nav, Navbar, NavItem } from \"react-bootstrap\";\nimport \"./App.css\";\nimport { Routes } from \"./Routes\";\n\nconst bookstoreIcon = \"data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjMycHgiIGhlaWdodD0iMzJweCIgdmlld0JveD0iMCAwIDMzNS4wOCAzMzUuMDc5IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAzMzUuMDggMzM1LjA3OTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxnPgoJCTxwYXRoIGQ9Ik0zMTEuMTc1LDExNS43NzVjLTEuMzU1LTEwLjE4Ni0xLjU0Ni0yNy43Myw3LjkxNS0zMy42MjFjMC4xNjktMC4xMDgsMC4yOTUtMC4yNjQsMC40NDMtMC4zOTggICAgYzcuNzM1LTIuNDc0LDEzLjA4OC01Ljk0Niw4Ljg4Ni0xMC42MThsLTExNC4xMDItMzQuMzhMMjkuNTYsNjIuNDQ1YzAsMC0yMS4xNTcsMy4wMjQtMTkuMjY3LDM1Ljg5NCAgICBjMS4wMjYsMTcuODksNi42MzcsMjYuNjc2LDExLjU0NCwzMWwtMTUuMTYxLDQuNTY5Yy00LjIwOCw0LjY3MiwxLjE0NCw4LjE0NSw4Ljg4LDEwLjYxNWMwLjE0NywwLjEzOCwwLjI3MSwwLjI5MywwLjQ0MywwLjQwMSAgICBjOS40NTUsNS44OTYsOS4yNzMsMjMuNDM4LDcuOTEzLDMzLjYyNmMtMzMuOTY3LDkuNjQ1LTIxLjc3NCwxMi43ODgtMjEuNzc0LDEyLjc4OGw3LjQ1MSwxLjgwMyAgICBjLTUuMjQxLDQuNzM2LTEwLjQ0NiwxMy43MTctOS40NzEsMzAuNzVjMS44OTEsMzIuODY0LDE5LjI2OSwzNS4xMzIsMTkuMjY5LDM1LjEzMmwxMjAuOTA0LDM5LjI5OGwxODIuNDktNDQuMjAyICAgIGMwLDAsMTIuMTk3LTMuMTQ4LTIxLjc3OS0xMi43OTRjLTEuMzY2LTEwLjE3Mi0xLjU1Ni0yNy43MTIsNy45MjEtMzMuNjIzYzAuMTc0LTAuMTA1LDAuMzAxLTAuMjY0LDAuNDQyLTAuMzk2ICAgIGM3LjczNi0yLjQ3NCwxMy4wODQtNS45NDMsOC44ODEtMTAuNjE1bC03LjkzMi0yLjM5NWM1LjI5LTMuMTksMTMuMjM2LTExLjUyNywxNC40ODEtMzMuMTgzICAgIGMwLjg1OS0xNC44OTYtMy4wMjctMjMuNjItNy41MjUtMjguNzU2bDE1LjY3OC0zLjc5NEMzMzIuOTQ5LDEyOC41NjksMzQ1LjE0NiwxMjUuNDIxLDMxMS4xNzUsMTE1Ljc3NXogTTE1OC41MzMsMTE1LjM1NCAgICBsMzAuNjg4LTYuMzA3bDEwMy43MDgtMjEuMzEybDE1LjQ1MS0zLjE3OGMtNC45MzcsOS4wMzYtNC43MywyMS40MDItMy45MTMsMjkuMzVjMC4xNzksMS43OTgsMC4zODUsMy40NCwwLjU4NSw0LjY4OCAgICBMMjg4LjE0LDEyMi44bC0xMzAuODk3LDMyLjU2M0wxNTguNTMzLDExNS4zNTR6IE0yNi43MSwxNDcuMzM3bDE1LjQ0OSwzLjE3OGw5OS41OTcsMjAuNDc0bDguNzAxLDEuNzgybDAsMGwwLDBsMjYuMDkzLDUuMzYzICAgIGwxLjI4Nyw0MC4wMUw0My4zMDMsMTg0LjY3M2wtMTMuMjYzLTMuMjk2YzAuMTk1LTEuMjUsMC40MDEtMi44OSwwLjU4OC00LjY5M0MzMS40NCwxNjguNzQyLDMxLjY1MSwxNTYuMzczLDI2LjcxLDE0Ny4zMzd6ICAgICBNMjAuNzA4LDk2Ljc1N2MtMC4xODctOC43NDMsMS4zNzEtMTUuMDY2LDQuNTItMTguMjhjMi4wMDQtMi4wNTIsNC4zNjktMi40NzksNS45OTEtMi40NzljMC44NTcsMCwxLjQ3NCwwLjExOSwxLjUxNiwwLjExOSAgICBsNzkuNjA3LDI1Ljk1M2wzOS43MTcsMTIuOTQ5bC0xLjMwMyw0MC4yODlMMzkuMzM0LDEyNC4wN2wtNS44OC0xLjY0N2MtMC4yMTYtMC4wNjEtMC41MDktMC4xMDMtMC43MzUtMC4xMTMgICAgQzMyLjI2LDEyMi4yNzcsMjEuMjQ0LDEyMS4yNjMsMjAuNzA4LDk2Ljc1N3ogTTE0MC41NzksMjgwLjg2NkwyMy4yOCwyNDcuOThjLTAuMjE3LTAuMDYzLTAuNTA3LTAuMTA1LTAuNzMzLTAuMTE2ICAgIGMtMC40NjctMC4wMzEtMTEuNDg4LTEuMDQ0LTEyLjAyMS0yNS41NDRjLTAuMTktOC43NTQsMS4zNzYtMTUuMDcxLDQuNTE5LTE4LjI4OGMyLjAwOS0yLjA1Miw0LjM3NS0yLjQ3OSw1Ljk5NC0yLjQ3OSAgICBjMC44NTksMCwxLjQ3NCwwLjExNSwxLjUxOSwwLjExNWMwLDAsMC4wMDUsMCwwLDBsMTE5LjMxNiwzOC45MDhMMTQwLjU3OSwyODAuODY2eiBNMjk0LjI4NCwyMzkuNDU5ICAgIGMwLjE4NSwxLjgwNCwwLjM5MSwzLjQ0MywwLjU5MSw0LjY5M2wtMTQ3LjgxMiwzNi43NzFsMS4yOTItNDAuMDFsMzEuNjAxLTYuNDk3bDQuNjY3LDEuMTI5bDE3LjQ5Mi01LjY4NWw4MC42MzEtMTYuNTY5ICAgIGwxNS40NTctMy4xOEMyOTMuMjYxLDIxOS4xNDYsMjkzLjQ2NiwyMzEuNTE3LDI5NC4yODQsMjM5LjQ1OXogTTMwMi40MjYsMTg1LjA4NGMtMC4yNjksMC4wMDYtMC41MzgsMC4wNDItMC43OTEsMC4xMjIgICAgbC0xMS4xNDgsMy4xMjFsLTEwNi4xNDgsMjkuNzY0bC0xLjI5OC00MC4yODlsMzQuODI2LTExLjM1OWw4NC4zMjctMjcuNTAxYzAuMDExLTAuMDA1LDQuNDM2LTAuOTg4LDcuNjg0LDIuMzE1ICAgIGMzLjE0NCwzLjIxNCw0LjcwNCw5LjUzNyw0LjUyLDE4LjI4QzMxMy44NDgsMTg0LjAzNSwzMDIuODI3LDE4NS4wNTMsMzAyLjQyNiwxODUuMDg0eiIgZmlsbD0iI2Y2OTgyNyIvPgoJPC9nPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo=\";\n\ninterface AppProps {\n  history: any;\n}\n\ninterface AppState {\n  isAuthenticated: boolean;\n  isAuthenticating: boolean;\n}\n\nclass App extends Component<AppProps, AppState> {\n  constructor(props: AppProps) {\n    super(props);\n  \n    this.state = {\n      isAuthenticated: false,\n      isAuthenticating: true\n    };\n\n    document.title = \"Bookstore Demo\"\n  }\n  \n  async componentDidMount() {\n    try {\n      if (await Auth.currentSession()) {\n        this.userHasAuthenticated(true);\n      }\n    }\n    catch(e) {\n      if (e !== 'No current user') {\n        alert(e);\n      }\n    }\n  \n    this.setState({ isAuthenticating: false });\n  }\n\n  userHasAuthenticated = (authenticated: boolean) => {\n    this.setState({ isAuthenticated: authenticated });\n  }\n\n  handleLogout = async () => {\n    await Auth.signOut();\n  \n    this.userHasAuthenticated(false);\n    this.props.history.push(\"/login\");\n  }\n\n  showLoggedInBar = () => (\n    <Fragment>\n      <LinkContainer to=\"/past\">\n        <NavItem><span className=\"orange line-height-24\">Past orders</span></NavItem>\n      </LinkContainer>\n      <LinkContainer to=\"/best\">\n        <NavItem><span className=\"orange line-height-24\">Best sellers</span></NavItem>\n      </LinkContainer>\n      <NavItem onClick={this.handleLogout}><span className=\"orange line-height-24\">Log out</span></NavItem>\n      <LinkContainer to=\"/cart\">\n        <NavItem>\n          <div className=\"shopping-icon-container\">\n            <span className=\"glyphicon glyphicon-shopping-cart white\" aria-hidden=\"true\"></span>\n          </div>\n        </NavItem>\n      </LinkContainer>\n    </Fragment>\n  );\n\n  showLoggedOutBar = () => (\n    <Fragment>\n      <LinkContainer to=\"/signup\">\n        <NavItem><span className=\"orange\">Sign up</span></NavItem>\n      </LinkContainer>\n      <LinkContainer to=\"/login\">\n        <NavItem><span className=\"orange\">Log in</span></NavItem>\n      </LinkContainer>\n    </Fragment>\n  );\n\n  render() {\n    const childProps = {\n      isAuthenticated: this.state.isAuthenticated,\n      userHasAuthenticated: this.userHasAuthenticated\n    };\n  \n    return (\n      !this.state.isAuthenticating &&\n      <div className=\"App container\">\n        <Navbar fluid collapseOnSelect>\n          <Navbar.Header>\n            <Navbar.Brand>\n              <Link to=\"/\">\n                <span className=\"orange\"> <img src={bookstoreIcon} alt=\"bookstore\" /> BOOKSTORE</span>\n              </Link>\n            </Navbar.Brand>\n            <Navbar.Toggle />\n          </Navbar.Header>\n          <Navbar.Collapse>\n            <Nav pullRight>\n              {this.state.isAuthenticated ? this.showLoggedInBar() : this.showLoggedOutBar()}\n            </Nav>\n          </Navbar.Collapse>\n        </Navbar>\n        <Routes isAuthenticated={childProps.isAuthenticated} userHasAuthenticated={childProps.userHasAuthenticated} />\n      </div>\n    );\n  }\n}\n\nexport default withRouter(App as any);"]},"metadata":{},"sourceType":"module"}